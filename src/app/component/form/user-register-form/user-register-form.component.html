<div class=container >
  <h2 class="mt-3"><i class="bi bi-plus-circle"></i> Créer un compte</h2>
  <div class="container">
    <form #f="ngForm" class="row g-3">
      <div class="row">
        <div class="col-md-3 mb-2">
          <label for="role" class="form-label">Rôle<span style="color: red"> *</span></label>
          <select class="form-select" aria-label="role" id="role" name="role"
                  required
                  [(ngModel)]="role"
                  #roles="ngModel">
            <option disabled selected [ngValue]="undefined">Choisir ...</option>
            <option *ngFor="let object of userRoles" [ngValue]="object">
              {{ object }}
            </option>
          </select>
          <div *ngIf="roles.invalid && (roles.dirty || roles.touched)" class="mt-1">
          <span *ngIf="roles.errors.required" class="form-text text-danger">
            <i class="bi bi-exclamation-circle"></i> Role user est requis.
          </span>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label for="firstName" class="form-label">Prénom<span style="color: red"> *</span></label>
        <input type="text" class="form-control" id="firstName" name="firstName"
               required
               #firstname = "ngModel"
               [(ngModel)]="user.firstName">
        <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="mt-1">
          <span *ngIf="firstname.errors.required" class="form-text text-danger">
            <i class="bi bi-exclamation-circle"></i> Prénom est requis.
          </span>
        </div>
      </div>
      <div class="col-md-4">
        <label for="lastName" class="form-label">Nom<span style="color: red"> *</span></label>
        <input type="text" class="form-control" id="lastName" name="lastName"
               required
               #lastName = "ngModel"
               [(ngModel)]="user.lastName">
        <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="mt-1">
          <span *ngIf="lastName.errors.required" class="form-text text-danger">
            <i class="bi bi-exclamation-circle"></i> Nom est requis.
          </span>
        </div>
      </div>
      <div class="col-md-4">
        <label for="email" class="form-label">Email<span style="color: red"> *</span></label>
        <input type="email" class="form-control" id="email" name="email"
                required
               #email= "ngModel"
               placeholder="name@example.com"
               pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
               [(ngModel)]="user.email">
        <div *ngIf="email.invalid && (email.dirty || email.touched)" class="mt-1">
          <span *ngIf="email.errors.required" class="form-text text-danger">
            <i class="bi bi-exclamation-circle"></i> Email est requis.
          </span>
          <span *ngIf="email.errors.pattern" class="form-text text-danger">
            <i class="bi bi-exclamation-circle"></i> Email non valide.
          </span>
        </div>
      </div>
      <div class="col-md-4">
        <label for="password" class="form-label">Password<span style="color: red"> *</span></label>
        <input type="password" class="form-control" id="password" name="password"
               required
               #password= "ngModel"
               minlength="8"
               [(ngModel)]="user.password">
        <div *ngIf="password.pristine" id="passwordHelp" class="form-text"><i class="bi bi-info-circle"></i> Password doit contenir au moins 6 caractères.</div>
        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="mt-1">
          <span *ngIf="password.errors.required" class="form-text text-danger">
            <i class="bi bi-exclamation-circle"></i> Password est requise.
          </span>
          <span *ngIf="password.errors.minlength" class=" form-text text-danger">
             <i class="bi bi-exclamation-circle"></i> Password non valide.
          </span>
        </div>
      </div>
      <div class="col-12 mb-3">
        <button type="submit" class="btn btn-success"  (click)="addUser()" [disabled]="f.invalid  "><i class="bi bi-plus-circle"></i> Ajouter</button>
      </div>
    </form>
  </div>
</div>


